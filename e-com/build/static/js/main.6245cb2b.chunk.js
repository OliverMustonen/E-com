(this["webpackJsonpe-com"]=this["webpackJsonpe-com"]||[]).push([[0],{39:function(t,e,a){},40:function(t,e,a){},70:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),r=a(16),s=a.n(r),i=(a(39),a(40),a(9)),o=a(3),d=function(){return{productCatalog:{set:"PRODUCT_CATALOG_SET"},product:{set:"PRODUCT_SET",clear:"PRODUCT_CLEAR"},cart:{add:"ADD_TO_CART",sub:"SUB_FROM_CART",delete:"DELETE_FROM_CART",clear:"CLEAR_CART"}}},l=function(t){return{type:d().cart.add,payload:t}},u=a(1),j=function(t){var e=t.product,a=Object(o.b)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"p-2 d-flex justify-content-between align-items-center",children:[Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)("img",{src:e.image,alt:"product",className:"img-fluid image-width"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:e.name})}),Object(u.jsx)("div",{children:Object(u.jsxs)("small",{children:[e.quantity," x ",e.price]})})]})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)("button",{className:"btn btn-sm px-3",onClick:function(t){var c;t.stopPropagation(),a((c=e,{type:d().cart.sub,payload:c}))},children:"-"}),Object(u.jsx)("button",{className:"btn btn-sm px-3",onClick:function(t){t.stopPropagation(),a(l(e))},children:"+"}),Object(u.jsx)("button",{className:"btn btn-sm btn-danger px-3 ms-2",onClick:function(t){var c;t.stopPropagation(),a((c=e._id,{type:d().cart.delete,payload:c}))},children:Object(u.jsx)("i",{className:"fas fa-trash"})})]})]})})},b=function(){var t=Object(o.c)((function(t){return t.cartReducer.shoppingCart})),e=Object(o.c)((function(t){return t.cartReducer.totalCartAmount})),a=Object(u.jsx)("div",{className:"p-2 d-flex justify-content-center align-items-center",children:"Your cart is empty"});return Object(u.jsxs)("div",{children:[t.map((function(t){return Object(u.jsx)(j,{product:t},t._id)})),!t.length&&a,Object(u.jsx)("div",{className:"dropdown-divider"}),Object(u.jsxs)("div",{className:"p-2 d-flex justify-content-between align-items-center",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:["Total Amount: ",Object(u.jsx)("span",{children:e})]}),Object(u.jsx)("small",{className:"text-muted",children:"ink. vat"})]}),Object(u.jsx)("button",{className:"btn btn-info",children:"Checkout"})]})]})},p=function(){var t=Object(o.c)((function(t){return t.cartReducer.totalCartQuantity}));return Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-info",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)(i.b,{className:"navbar-brand",to:"/",children:Object(u.jsx)("i",{className:"fab fa-shopware",children:" Shopware.se "})}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("i",{className:"fas fa-bars"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(u.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.c,{exact:!0,className:"nav-link","aria-current":"page",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.c,{exact:!0,className:"nav-link","aria-current":"page",to:"/products",children:"Products"})}),Object(u.jsxs)("li",{className:"nav-item me-3 me-lg-0 dropdown",children:[Object(u.jsxs)("span",{className:"nav-link dropdown-toggle hidden-arrow",id:"navbarDropdown",role:"button","data-mdb-toggle":"dropdown","aria-expanded":"false",children:[Object(u.jsx)("i",{className:"fas fa-shopping-cart"}),t>0&&Object(u.jsx)("span",{className:"badge rounded-pill badge-notification bg-danger",children:t})]}),Object(u.jsx)("ul",{className:"dropdown-menu dropdown-menu-lg-end shopping-cart","aria-labelledby":"navbarDropdown",children:Object(u.jsx)(b,{})})]})]})})]})})},h=a(2),O=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Home"})})},m=a(13),x=a.n(m),f=a(21),v=a(22),g=a.n(v),N=function(t){return{type:d().productCatalog.set,payload:t}},C=function(t){return{type:d().product.set,payload:t}},y=function(t){var e=t.product,a=t.details,c=Object(o.b)();return Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"card h-100",children:[a&&Object(u.jsx)("h1",{className:"text-center",children:e.name}),Object(u.jsx)("img",{src:e.image,alt:"...",className:"card-img-top"}),Object(u.jsxs)("div",{className:"card-body",children:[!a&&Object(u.jsx)("h5",{className:"card-title",children:e.name}),Object(u.jsxs)("div",{className:"card-text",children:[a?Object(u.jsx)("p",{children:e.desc}):Object(u.jsx)("p",{children:e.short}),Object(u.jsxs)("p",{className:"h5",children:["Price: ",Object(u.jsx)("span",{className:"text-danger",children:e.price})," kr"]})]}),Object(u.jsxs)("div",{className:"row row-cols-1 ".concat(!a&&"row-cols-lg2"," g-2 mt-3"),children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("button",{className:"btn btn-info btn-block",onClick:function(){c(l(e))},children:"Add To Cart"})}),!a&&Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{className:"btn btn-info btn-block",to:"/products/".concat(e._id),children:"Read more"})})]})]})]})})};y.defaultProps={details:!1};var w=y,_=function(){var t=Object(o.b)(),e=Object(o.c)((function(t){return t.productCatalog}));return Object(c.useEffect)((function(){t(function(){var t=Object(f.a)(x.a.mark((function t(e){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("http://localhost:9999/api/products");case 2:a=t.sent,e(N(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(u.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:e&&e.map((function(t){return Object(u.jsx)(w,{product:t},t._id)}))})},T=function(){var t=Object(h.f)().id,e=Object(o.b)();Object(c.useEffect)((function(){return e(function(t){return function(){var e=Object(f.a)(x.a.mark((function e(a){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://localhost:9999/api/products/".concat(t));case 2:c=e.sent,a(C(c.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t)),function(){e({type:d().product.clear})}}),[e,t]);var a=Object(o.c)((function(t){return t.product.product}));return Object(u.jsx)("div",{children:a&&Object(u.jsx)(w,{product:a,details:!0})})};var E=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(p,{}),Object(u.jsx)("div",{className:"container mt-5",children:Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{exact:!0,path:"/",component:O}),Object(u.jsx)(h.a,{exact:!0,path:"/products",component:_}),Object(u.jsx)(h.a,{exact:!0,path:"/products/:id",component:T})]})})]})})},R=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),c(t),n(t),r(t),s(t)}))},k=a(11),A=a(33),D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;return e.type===d().productCatalog.set?t=e.payload:t},P=a(8),S={product:null},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d().product.set:return Object(P.a)(Object(P.a)({},t),{},{product:e.payload});case d().product.clear:return Object(P.a)(Object(P.a)({},t),{},{product:null});default:return t}},q=a(34),F={shoppingCart:[],totalCartQuantity:0,totalCartAmount:0},U=function(t){var e=0;return t.forEach((function(t){e+=t.quantity})),e},I=function(t){var e=0;return t.forEach((function(t){e+=t.price*t.quantity})),e},Q=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d().cart.add:return(t=e.shoppingCart.findIndex((function(t){return t._id===a.payload._id})))<0?e.shoppingCart=[].concat(Object(q.a)(e.shoppingCart),[Object(P.a)(Object(P.a)({},a.payload),{},{quantity:1})]):e.shoppingCart[t].quantity+=1,e.totalCartAmount=I(e.shoppingCart),e.totalCartQuantity=U(e.shoppingCart),e;case d().cart.sub:return 1===a.payload.quantity?e.shoppingCart=e.shoppingCart.filter((function(t){return t._id!==a.payload._id})):a.payload.quantity-=1,e.totalCartAmount=I(e.shoppingCart),e.totalCartQuantity=U(e.shoppingCart),e;case d().cart.delete:return e.shoppingCart=e.shoppingCart.filter((function(t){return t._id!==a.payload})),e.totalCartAmount=I(e.shoppingCart),e.totalCartQuantity=U(e.shoppingCart),e;default:return e}},X=Object(k.b)({productCatalog:D,product:L,cartReducer:Q}),B=Object(k.d)(X,Object(k.c)(Object(k.a)(A.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(u.jsx)(o.a,{store:B,children:Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(E,{})})}),document.getElementById("root")),R()}},[[70,1,2]]]);
//# sourceMappingURL=main.6245cb2b.chunk.js.map